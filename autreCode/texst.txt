

rd /s /q node_modules

npm install

cd C:\Users\hp\Documents\progects\Pricealerts\autreCode\priceAlert

firebase deploy --only functions

firebase functions:config:set telegram.token="8146635194:AAFGD_bkO7OSXHWdEf5ofe35Jm4DjslIhOE"

const TELEGRAM_BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN || 
                          functions.config().telegram?.bot_token || 
                          "8146635194:AAFGD_bkO7OSXHWdEf5ofe35Jm4DjslIhOE"; // Fallback للتنمية فقط

                          admin.initializeApp({
  databaseURL: "https://alertprice-c0176.firebaseio.com"
});

/* nta3 firebase */
case "bybit":
				const payload = {
					action : 'getSmbls',
					datas: exchange.exchangeInfoUrl,
				};

				const options = {
					method: "post",
					contentType: "application/json",
					payload: JSON.stringify(payload),
					muteHttpExceptions: true,
				};

				const url = "https://proxyrequest-kuwu5xovza-ew.a.run.app";
				 response = await fetch(url, options);
				console.log(response);
				 data = await response.data;
				console.log(data);
					symbols = data.result
						.filter(
							s => s.quote_currency === "USDT" && s.status === "Trading"
						)
						.map(s => s.name);
				break;


    gcloud functions add-iam-policy-binding proxyRequest  --region=europe-west1  --member="allUsers"   --role="roles/run.invoker"

gcloud config set project pricealert-31787
gcloud config set account raki.chai3i@gmail.com

https://telegramwebhook-3wzofmiqgq-uc.a.run.app
https://api.telegram.org/bot8146635194:AAFGD_bkO7OSXHWdEf5ofe35Jm4DjslIhOE/setWebhook?url=https://telegramwebhook-3wzofmiqgq-uc.a.run.app
