<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Binance Live Dashboard</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0b0e11; color: white; display: flex; justify-content: center; padding-top: 50px; }
        table { border-collapse: collapse; width: 80%; max-width: 800px; background-color: #1e2329; border-radius: 10px; overflow: hidden; }
        th, td { padding: 15px; text-align: center; border-bottom: 1px solid #2b2f36; }
        th { background-color: #2b2f36; color: #848e9c; }
        .price { font-weight: bold; font-family: monospace; font-size: 1.2em; transition: color 0.3s; }
        .up { color: #02c076; } /* Ø£Ø®Ø¶Ø± */
        .down { color: #f84960; } /* Ø£Ø­Ù…Ø± */
        .symbol { font-weight: bold; color: #f0b90b; }
    </style>
</head>
<body>

    <table>
        <thead>
            <tr>
                <th>Ø§Ù„Ø²ÙˆØ¬</th>
                <th>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ (USDT)</th>
                <th>Ø§Ù„ØªØºÙŠØ± (24Ø³Ø§Ø¹Ø©)</th>
            </tr>
        </thead>
        <tbody id="crypto-table">
            </tbody>
    </table>

    <script>
        const pairs = ['btcusdt', 'ethusdt', 'solusdt', 'bnbusdt'];
        const prices = {}; // Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
        const tableBody = document.getElementById('crypto-table');

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙÙˆÙ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„ÙƒÙ„ Ø¹Ù…Ù„Ø©
        pairs.forEach(pair => {
            const row = document.createElement('tr');
            row.id = `row-${pair}`;
            row.innerHTML = `
                <td class="symbol">${pair.toUpperCase()}</td>
                <td id="price-${pair}" class="price">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td>
                <td id="change-${pair}">--</td>
            `;
            tableBody.appendChild(row);
        });

        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ WebSocket
        const streams = pairs.map(p => `${p}@ticker`).join('/');
        const ws = new WebSocket(`wss://stream.binance.com:9443/stream?streams=${streams}`);

        ws.onmessage = (event) => {
            const msg = JSON.parse(event.data);
            const data = msg.data;
            const pair = data.s.toLowerCase();
            const currentPrice = parseFloat(data.c).toFixed(2);
            const change = data.P; // Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠØ±
            const priceElement = document.getElementById(`price-${pair}`);
            const changeElement = document.getElementById(`change-${pair}`);

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙˆÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
            if (prices[pair]) {
                if (currentPrice > prices[pair]) {
                    priceElement.className = 'price up';
                } else if (currentPrice < prices[pair]) {
                    priceElement.className = 'price down';
                }
            }
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
            priceElement.innerText = `$${currentPrice}`;
            changeElement.innerText = `${change}%`;
            changeElement.className = parseFloat(change) >= 0 ? 'up' : 'down';

            // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
            prices[pair] = currentPrice;
        };

        ws.onclose = () => console.log("ðŸ”Œ Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„");
    </script>
</body>
</html>